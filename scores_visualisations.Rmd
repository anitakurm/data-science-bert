---
title: "BLEU visualizations"
author: "Maris Sala"
date: "5/22/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Applying METEOR for long answers dataset and GLEU for short answers dataset
```{r}
# Read in the data
long = read.csv("df_long_answers.csv")
short = read.csv("df_short_answers.csv")

# Take only necessary columns
long = select(long,7:10)
short = select(short,7:10)
```

Long
```{r}
bert = select(long,1,3)
bert['Model'] = 'BERT'
names(bert)[1] <- "METEOR"
names(bert)[2] <- "GLEU"

distil = select(long, 2,4)
distil['Model'] = 'DistilBERT'
names(distil)[1] <- "METEOR"
names(distil)[2] <- "GLEU"

data = rbind(bert, distil)

mu <- ddply(data, "Model", summarise, grp.mean=mean(METEOR))
ggplot(data, aes(x=METEOR, fill=Model)) +
  geom_density(col = NA, alpha=0.5, position="identity") +
  geom_vline(data=mu, aes(xintercept=grp.mean, color=Model),
             linetype="dashed") +
  theme_bw() +
  ylim(0,3.5)
```

Short
```{r}
bert = select(short,1,3)
bert['Model'] = 'BERT'
names(bert)[1] <- "METEOR"
names(bert)[2] <- "GLEU"

distil = select(short, 2,4)
distil['Model'] = 'DistilBERT'
names(distil)[1] <- "METEOR"
names(distil)[2] <- "GLEU"

data = rbind(bert, distil)

mu <- ddply(data, "Model", summarise, grp.mean=mean(GLEU))
ggplot(data, aes(x=GLEU, fill=Model)) +
  geom_density(col = NA, alpha=0.5, position="identity") +
  geom_vline(data=mu, aes(xintercept=grp.mean, color=Model),
             linetype="dashed") +
  theme_bw() +
  xlim(0,1) + ylim(0,3.5)
```